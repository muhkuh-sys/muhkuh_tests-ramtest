<?xml version="1.0" encoding="UTF-8"?>
<HBootImage type="REGULAR">
	<Chunks>
		<Include name="board_config_CIFX_PCIE4000-2RE_R3_nomii_newuart_noSDRAM_0.0.0.4.xml" />	
		<!-- Configure the SDRAM. IS42S32800J-7BLI 32MByte/32bit-->
		<Options>
			<Option id="hif_hif_io">
			<!-- bit 7: HIFMEM SDRAM is enabled -->
			<!-- EXTMEM SDRAM is disabled -->
			<!-- HIF SDRAM 32bit databus width -->
				<U32>0x000001c0</U32>
			</Option>
		
			<Option id="netx_hif_sdram">
				<U32>0x000D0111</U32>    <!-- SDRAM general_ctrl register -->
				<U32>0x01A32251</U32>    <!-- SDRAM timing_ctrl register -->
				<U32>0x00000020</U32>    <!-- SDRAM mr register -->
				<U16>100</U16>           <!-- SDRAM powerup timeout in milliseconds -->
			</Option>
		</Options>

		<!-- Activate the SDRAM. -->
		<MemoryDeviceUp device="MEMDEV_SDRAM_H" />
		
		<!-- Display the HW/memory configuration -->
		<Snip artifact="show_hwconfig_auto_netx4000" group="org.muhkuh.hboot.sniplib" version="1.0.2" />

		<!-- Fill the complete DDRLO area with 0. -->
		<Snip artifact="initialize_memory" group="org.muhkuh.hboot.sniplib" version="1.0.1">
			<Parameter name="START">0x20000000</Parameter>                                  
			<Parameter name="END">0x22000000</Parameter>                                    
			<Parameter name="FILL">0x00000000</Parameter>                                   
		</Snip> 																			

		<!-- CR7 parameters -->
		<Data>
			<Hex address="0x0003ff80">
				00 00 00 20 <!-- 0x20000000 Start address of HIF SDRAM -->
				00 00 00 02 <!-- 0x02000000 Size in bytes -->
				ff 03 00 00 <!-- Test Cases -->
				00 00 00 00 <!-- Loops -->
				00 00 00 00 <!-- PerfTestCases -->
				00 00 00 00 <!-- Status LED MMIO numbers -->
				01 00 00 00 <!-- Enable UART -->
				00 00 00 00 <!-- tag mask -->
				00 00 00 00 <!-- tag value -->
			</Hex>
		</Data>
				
		<!-- R7: load ram test for R7 -->
		<Data>
			<File name="@tElfCR7" />
		</Data>
		
		<!-- R7: run ram test -->
		<Execute>
			<File name="@tElfCR7" />
			<R0>0x0003ff80</R0> <!-- address of parameter block -->
		</Execute>

	</Chunks>
</HBootImage>
